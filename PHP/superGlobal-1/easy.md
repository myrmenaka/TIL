## GETとPOSTについて超易しくまとめたもの

## 目次

- [$_GET の仕組み](#1)
- [$_POST の仕組み](#2)
- [違いまとめ](#3)

---
<a id="1"></a>

## $_GET の仕組み

URLに情報をつけて、PHPに渡す  

### 例えば...
ケーキ屋さんの注文ページ（get_cake.php）  
ケーキの種類を選ぶためにURLを以下のように入力した
```
get_cake.php?cake=choco
```
このURLは？  
- ユーザーが自分で書く
- リンクをクリックして自動で作られる  

### このURLを分解してみると

|部分|意味|  
|:--:|:--:|  
|get_cake.php|開くPHPのページ（ファイル）|  
|?|「これからデータを送るよ」の合図|  
|cake=choco|「cake」という名前で「choco」という値を渡している|  

※この `?` 以降の `キー = 値` はURLの `クエリパラメータ` と呼ばれる

### PHPの中では

このURLでアクセスすると、PHPは自動的に以下のような連想配列を作る
```php
$_GET = [
    'cake' => 'choco'
];
```
なので、PHPファイルで  
```php
$_GET['cake'];
// → "choco"
```
こう記述すると
```php
echo "あなたの選んだケーキは: {$_GET['cake']}";
// あなたの選んだケーキは: choco  
```
と出力される  

## どんな時に使うか

- 検索フォーム（GoogleのURLにも使われている）
- ページの切り替え（例: ?page=2）
- 商品IDの指定（例: ?item=123）

### 例えるなら

GETは「ゲームのチートコード」みたいなもの  

→ URLに秘密のパラメータ（?○○=△△）をつけると、ページの内容が変わる  

## ポイント

### URLに見える
→ ユーザーも自分でいじれる

### PHPは `$_GET['key']` で受け取る
→ 送られた値を使える

### 重要なデータはNG（パスワードなど）
→ 誰にでも見えてしまうため注意

---
---

<a id="2"></a>

## $_POST の仕組み

ユーザーが書いた情報を、こっそりPHPに渡す  

### 例えば...
ケーキ屋さんの予約フォーム  
ケーキの予約フォームに名前やメッセージを入力した
```html
<!-- 予約フォーム -->
<form action="reserve.php" method="post">
    <input type="text" name="name" placehplder="お名前">
    <input type="text" name="message" placehplder="ケーキのメッセージ">
    <input type="submit" value="予約する">
</form>
```
### POSTはどこで使われるのか

- 名前や住所など、他の人に見せたくない情報
- 入力がたくさんあるとき（例: 長い文章やアンケート etc...）
- フォーム送信（例: 会員登録・ログイン etc...）

### GETとの違い

|項目|GET|POST|  
|:--:|:--:|:--:|  
|URLに見えるか|見える|見えない|  
|データ量|少ない|多く送れる|  
|安全性|低い（見える為）|高い（見えない為）|  
|よく使う場面|検索・リンク|フォーム・ログイン|  

## PHPの中では

例えば、「名前」に「たろう」、「メッセージ」に「お誕生日おめでとう」と入力して送信した場合  
```php
$name = $_POST['name'];
// たろう

$message = $_POST['message'];
// お誕生日おめでとう
```
変数に代入し  
```php
echo "予約者: {$name}" . PHP_EOL;
echo "ケーキに書くメッセージ: {$message}";
// 予約者: たろう
// ケーキに書くメッセージ: お誕生日おめでとう
```
と出力される

### 例えるなら

POSTは「封筒に入れて渡す注文メモ」  

- 中身は見えない
- お店（PHP）にだけ届く

## ポイント

### URLに出ない
→ 周りに見えない

### PHPは `$_POST['key']` で受け取る
→ PHPは中身を読める

### 重要なデータ向き（パスワードなど）
→ パスワードやメッセージなどに使用する

---
---

<a id="3"></a>

## まとめ

`GET` と `POST` は、フォームで送る方法が違う  
目的はどちらも「ユーザーのデータをPHPが受け取って処理する」