# 2025.7.15 - お問い合わせフォームの総合演習（メール送信機能を追加）

## 目的

`md_send_mail()関数` を使って、お問い合わせフォームから送信された内容を実際にメールで送れるようにする  
併せて、送信処理の注意点（文字化け・改行コード・XAMPPでの動作など）も理解する

## 目次

- [メール送信関数 `md_send_mail()` の基本](#1)
- [引数の意味と注意点](#2)
- [XAMPP環境での注意（Windows）](#3)

## 学習内容

<a id="1"></a>

### メール送信関数 `md_send_mail()` の基本



---
<a id="2"></a>

### 引数の意味と注意点



---
<a id="3"></a>

### XAMPP環境での注意（Windows）



---
---
## セキュリティ面での注意

- `$_POST` の値をメールに出力する前に、`htmlspecialchars()` は不要（メール内なのでHTML出力ではない為）
- `メールヘッダーインジェクション対策` として、ユーザー入力値に 改行コード（ `\r` や `\n` ）が含まれていないかをチェックするとより安全
- 実際の送信前に、`入力内容の妥当性チェック（バリデーション）` を行うことが重要

## 練習問題 

前回（ `Day23` ）で作成したお問い合わせフォームに、ユーザー宛と管理者宛の2通のメールを送信する処理を追加  
※完了画面のメッセージも変更

## 作業チェックリスト

- `md_send_mail()` で2通のメールを送る処理を実装したか
- 本文・件名にマルチバイト文字を使ってもエラーが出ないか確認したか
- 宛先や Form の指定が正しくできているか


## MEMO

- 

---

参考: []()
